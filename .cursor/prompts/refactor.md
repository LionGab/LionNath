## Prompt: Refatoração

Objetivo: Refatorar o código melhorando legibilidade, manutenibilidade e performance sem alterar comportamento externo.

Instruções:
- Simplificar controle de fluxo com early-returns.
- Extrair funções/helpers quando o componente ficar longo.
- Remover duplicações e nomes ambíguos; usar nomes descritivos.
- Manter compatibilidade de tipos e APIs públicas.
- Adicionar testes se houver lógica crítica.

